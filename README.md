# Contact manager

Демо: [доступно на heroku](https://contact-manager2020.herokuapp.com).

Демо позволяет регистрацию новых аккаунтов. Так же для тестирования доступны аккаунты с логинами: **test1@mail.ru, test2@mail.ru, test3@mail.ru**, пароли: **asd12A#**;

## Что делает приложение

![screenshot](https://i.ibb.co/JqPZY0v/image.jpg)

Состоит из двух страниц: страница входа/регистрации и страница с контактами пользователя, формой добавления новых контактов и строкой поиска:
- форма регистрации имеет обязательные для заполнения поля: имя, электропочта, пароль, проверка пароля. Для пароля необходимо использовать один или более: латинский символ в нижнем регистре [a-z], латинский символ в верхнем регистре [A-Z], цифру [0-9], спецсимвол [!@#$%^&* и т.п.]. Минимальная длина пароля - 6 символов;
- в форме входа, в качестве логина необходимо указать адрес электронной почты и пароль
- после входа, на основной странице приложения размещен список контактов пользователя, форма для нового контакта, поле для поиска (открывается при нажатии иконки линзы), имя пользователя и кнопка для выхода из системы.
- список контактов всегда отсортирован по алфавиту. Контакты можно редактировать, удалять, добавлять новые.

## Особенности
Приложение имеет ряд особенностей, которые стоит отметить:
- открытые, но не активные вкладки делают ленивую авторизацию и обновление данных только после их активизации;
- после работы в браузере сохраняется пользователь и при новом запуске авторизация произойдет автоматически. Хранение в localStorage;
- поиск по списку производится с условием `И`. Слова (как и числовые фразы) отделяются пробелом. Искать можно как по части номера телефона, так и/или по части имени;
- формат записи телефона подбирается в соответствии с кодом страны - приложение отличает порядка 70 стран. Не вошедшие в базу отображаются в формате `+9 999 999 99999`;
- достаточно большое число государств имеет нефиксированную длину номеров (10-12 знаков) - по этой причине в данной версии валидным считается номер после внесения десятой цифры;
- для кнопок переключателей используется функция устранения дребезга (серии быстрых нажатий на мышку) - блокируются повторные попытки удаления контакта после первого нажатия кнопки `remove`. Блокируется повторное открытие формы редактирования контакта до внесения объявленных изменений;
- проект содержит специальную утилиту для заполнения базы данных моковыми данными и скрипт для ее запуска.



## Как развернуть и запустить
Получить проект на ПК одним из возможных способов, при помощи зеленой кнопки вверху справа: клонировать репозиторий или скачать. 

Перед запуском скриптов получить необходимые пакеты командой:

`npm i`

Запустить проект на своем ПК в режиме разработки:

`npm run dev`

## Доступные скрипты

### `npm run dev`
Сборка приложения (серверной и клиентской части) в режиме разработчика. Клиент будет доступен по адресу: [http://localhost:3000](http://localhost:3000), сервер будет отвечать на порт 4000.

### `npm run fill`
Заполнение БД новыми моковыми данными. При заполнении будут созданы три аккаунта с логинами: **test1@mail.ru, test2@mail.ru, test3@mail.ru**, пароли: **asd12A#** - предназначены для тестирования работы приложения.

### `npm start`
**Внимание! Скрипт отличается от стандартного!**
Для успешного деплоя проекта на heroku скрипт был изменен. Не используйте его без подготовки сборки.

Запуск сервера в режиме production. Предварительно необходимо произвести сборку проекта командой `npm run build`.

Приложение будет доступно по адресу: [http://localhost:4000](http://localhost:4000)

### `npm run build`

Сборка клиентской части приложения в папку `build`.

## Инструменты
Приложение использует библиотеки:
- react - клиентская часть проекта;
- redux, redux-thunk - менеджер состояний с поддержкой асинхронных экшенов;
- json-server, express - управление БД и серверной частью приложения.
